(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[770],{30519:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var r=n(95155),a=n(12115),i=n(97282),l=n(10831),s=n(87556),d=n(12499),m=n(82662),o=n(71696),c=n(48154),x=n(56435),h=n(42670),u=n(10489),p=n(43612);let g="development"===n(95704).env.NEXT_PUBLIC_NODE_ENV,j=()=>{let[e,t]=(0,a.useState)([]),[n,j]=(0,a.useState)(null),[A,k]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{if(g)try{let e=await fetch("/api/update-navbar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"read"})});if(e.ok){let n=await e.json();t(n.menuLinks)}else{let t=await e.json();k(t.message)}}catch(e){console.error("Error fetching menu links:",e),k("Failed to fetch menu links.")}})()},[]);let f=async(e,n)=>{if(g)try{let r=await fetch("/api/update-navbar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,...n})});if(r.ok){let e=await r.json();j(e.message),k(null),e.updatedMenuLinks&&t(e.updatedMenuLinks)}else{let e=await r.json();k(e.message),j(null)}}catch(e){console.error("Error handling action:",e),k("An error occurred while processing the action."),j(null)}};return(0,r.jsxs)(i.default,{sx:{padding:"1rem"},children:[(0,r.jsx)("h3",{children:"Update Navbar Items"}),n&&(0,r.jsx)(l.A,{variant:"body1",color:"success.main",gutterBottom:!0,children:n}),A&&(0,r.jsx)(l.A,{variant:"body1",color:"error",gutterBottom:!0,children:A}),(0,r.jsxs)(s.A,{children:[(0,r.jsx)(d.A,{children:(0,r.jsxs)(m.A,{children:[(0,r.jsx)(o.A,{children:"Name"}),(0,r.jsx)(o.A,{children:"Link"}),(0,r.jsx)(o.A,{children:"Protected"}),(0,r.jsx)(o.A,{children:"Actions"})]})}),(0,r.jsx)(c.A,{children:e.map((e,t)=>(0,r.jsxs)(a.Fragment,{children:[(0,r.jsxs)(m.A,{children:[(0,r.jsx)(o.A,{children:e.name}),(0,r.jsx)(o.A,{children:e.link}),(0,r.jsx)(o.A,{children:(0,r.jsx)(x.A,{checked:e.protected,disabled:!0})}),(0,r.jsxs)(o.A,{children:[(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let n=new FormData(e.currentTarget);f("edit",{parentIndex:t,name:n.get("name"),link:n.get("link"),protected:"on"===n.get("protected")})},children:[(0,r.jsx)(h.A,{name:"name",defaultValue:e.name,size:"small",sx:{marginRight:"0.5rem"}}),(0,r.jsx)(h.A,{name:"link",defaultValue:e.link,size:"small",sx:{marginRight:"0.5rem"}}),(0,r.jsx)(u.A,{control:(0,r.jsx)(x.A,{name:"protected",defaultChecked:e.protected}),label:"Protected"}),(0,r.jsx)(p.A,{type:"submit",variant:"outlined",color:"primary",sx:{marginRight:"0.5rem"},children:"Update"})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let n=new FormData(e.currentTarget);f("add",{parentIndex:t,name:n.get("name"),link:n.get("link"),protected:"on"===n.get("protected")}),e.currentTarget.reset()},children:[(0,r.jsx)(h.A,{name:"name",placeholder:"Next Item Name",size:"small",sx:{marginRight:"0.5rem"}}),(0,r.jsx)(h.A,{name:"link",placeholder:"Next Item Link",size:"small",sx:{marginRight:"0.5rem"}}),(0,r.jsx)(u.A,{control:(0,r.jsx)(x.A,{name:"protected"}),label:"Protected"}),(0,r.jsx)(p.A,{type:"submit",variant:"outlined",color:"primary",sx:{marginRight:"0.5rem"},children:"Add Next Item"})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let n=new FormData(e.currentTarget);f("add-child",{parentIndex:t,name:n.get("name"),link:n.get("link"),index:0,protected:"on"===n.get("protected")}),e.currentTarget.reset()},children:[(0,r.jsx)(h.A,{name:"name",placeholder:"Child Item Name",size:"small",sx:{marginRight:"0.5rem"}}),(0,r.jsx)(h.A,{name:"link",placeholder:"Child Item Link",size:"small",sx:{marginRight:"0.5rem"}}),(0,r.jsx)(u.A,{control:(0,r.jsx)(x.A,{name:"protected"}),label:"Protected"}),(0,r.jsx)(p.A,{type:"submit",variant:"outlined",color:"primary",sx:{marginRight:"0.5rem"},children:"Add Child Item"})]}),(0,r.jsx)("form",{onSubmit:n=>{n.preventDefault(),f("delete",{parentIndex:t,name:e.name,link:e.link,protected:e.protected})},children:(0,r.jsx)(p.A,{type:"submit",variant:"outlined",color:"secondary",sx:{marginRight:"0.5rem"},children:"Delete Item"})})]})]}),e.subMenu&&e.subMenu.map((e,n)=>(0,r.jsxs)(m.A,{children:[(0,r.jsx)(o.A,{sx:{paddingLeft:"2rem"},children:e.name}),(0,r.jsx)(o.A,{children:e.link}),(0,r.jsx)(o.A,{children:(0,r.jsx)(x.A,{checked:e.protected,disabled:!0})}),(0,r.jsxs)(o.A,{children:[(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let r=new FormData(e.currentTarget);f("edit",{parentIndex:t,index:n,name:r.get("name"),link:r.get("link"),protected:"on"===r.get("protected")})},children:[(0,r.jsx)(h.A,{name:"name",defaultValue:e.name,size:"small",sx:{marginRight:"0.5rem"}}),(0,r.jsx)(h.A,{name:"link",defaultValue:e.link,size:"small",sx:{marginRight:"0.5rem"}}),(0,r.jsx)(u.A,{control:(0,r.jsx)(x.A,{name:"protected",checked:e.protected}),label:"Protected"}),(0,r.jsx)(p.A,{type:"submit",variant:"outlined",color:"primary",sx:{marginRight:"0.5rem"},children:"Update"})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let r=new FormData(e.currentTarget);f("add",{parentIndex:t,index:n,name:r.get("name"),link:r.get("link"),protected:"on"===r.get("protected")}),e.currentTarget.reset()},children:[(0,r.jsx)(h.A,{name:"name",placeholder:"Next Item Name",size:"small",sx:{marginRight:"0.5rem"}}),(0,r.jsx)(h.A,{name:"link",placeholder:"Next Item Link",size:"small",sx:{marginRight:"0.5rem"}}),(0,r.jsx)(u.A,{control:(0,r.jsx)(x.A,{name:"protected"}),label:"Protected"}),(0,r.jsx)(p.A,{type:"submit",variant:"outlined",color:"primary",sx:{marginRight:"0.5rem"},children:"Add Next Item"})]}),(0,r.jsx)("form",{onSubmit:r=>{r.preventDefault(),f("delete",{parentIndex:t,index:n,name:e.name,link:e.link,protected:e.protected})},children:(0,r.jsx)(p.A,{type:"submit",variant:"outlined",color:"secondary",children:"Delete Item"})})]})]},"".concat(t,"-").concat(n)))]},t))})]})]})}},71328:(e,t,n)=>{Promise.resolve().then(n.bind(n,30519))}},e=>{e.O(0,[193,199,670,937,441,255,358],()=>e(e.s=71328)),_N_E=e.O()}]);