(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[777],{27065:(e,r,t)=>{Promise.resolve().then(t.bind(t,35748))},35748:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var a=t(95155),n=t(53961),l=t(41574),o=t(80317),s=t(77284),i=t(64647),c=t(98638),d=t(12115);let u=()=>{let[e,r]=(0,d.useState)(null),[t,u]=(0,d.useState)(null),[g,m]=(0,d.useState)(!1),p=(0,d.useRef)(null),f=async e=>{var t;e.preventDefault();let a=null==(t=new FormData(e.currentTarget).get("pagename"))?void 0:t.toString().trim();if(!a){u("Pagename is required!"),r(null);return}if((0,n.C)()){m(!0);try{let e=await fetch("/api/create-page",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pagename:a})});if(e.ok)r('Page "'.concat(a,'" created successfully!')),p.current&&p.current.reset(),u(null);else{let t=await e.json();u("Error: ".concat(t.message)),r(null)}}catch(e){console.error("Error calling server function:",e),u("An error occurred while creating the page. "+(e instanceof Error?e.message:"Unknown error")),r(null)}finally{m(!1)}}else console.log('Static export mode: Page "'.concat(a,'" would be created.')),r('Static export mode: Page "'.concat(a,'" would be created.')),u(null)};return(0,a.jsxs)(l.default,{sx:{padding:"1rem"},children:[(0,a.jsx)("h3",{children:"Add a New Page"}),(e||t)&&(0,a.jsx)(l.default,{sx:{marginBottom:"1rem",padding:"1rem",borderRadius:"4px",backgroundColor:e?"green":"red",color:"white"},children:(0,a.jsx)(o.A,{variant:"body1",children:e||t})}),(0,a.jsxs)("form",{onSubmit:f,ref:p,children:[(0,a.jsx)(s.A,{label:"Pagename (e.g., products or /contents/day1)",name:"pagename",variant:"outlined",fullWidth:!0,required:!0,sx:{marginBottom:"1rem"}}),(0,a.jsx)(i.A,{type:"submit",variant:"contained",color:"primary",disabled:g,startIcon:g&&(0,a.jsx)(c.A,{size:20}),children:g?"Creating...":"Create Page"})]})]})}},53961:(e,r,t)=>{"use strict";t.d(r,{C:()=>a});let a=()=>!1}},e=>{e.O(0,[877,564,284,441,255,358],()=>e(e.s=27065)),_N_E=e.O()}]);